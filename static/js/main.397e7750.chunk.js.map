{"version":3,"sources":["images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/auth.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","handleLogout","email","isMenuOpen","className","src","headerLogo","alt","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","style","display","type","link","name","length","Main","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","cards","backgroundImage","avatar","about","map","Footer","ImagePopup","onClose","id","Login","handleLogin","useState","password","data","setData","handleChange","evt","target","value","onSubmit","preventDefault","onChange","placeholder","required","Register","handleRegister","isDataSet","ProtectedRoute","Component","component","props","loggedIn","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponse","method","body","JSON","stringify","description","console","log","title","all","getCards","getUserInfo","authorization","PopupWithForm","children","isOpen","buttonText","action","EditProfilePopup","onUpdateUser","setName","setDescription","useEffect","e","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","BASE_URL","response","InfoTooltip","messageIcon","authStatus","success","error","messageText","App","setCards","getAllInfo","userInfo","setCurrentUser","catch","err","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","tooltipStatus","setTooltipStatus","closeAllPopups","setSelectedCard","selectedCard","id_","tokenCheck","token","localStorage","getItem","Accept","Authorization","auth","setUserData","setLoggedIn","setIsDataSet","userData","history","useHistory","push","Provider","removeItem","changeLikeCardStatus","newCard","c","deleteCard","filter","finally","setItem","setUserInfo","setUserAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.397e7750.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.03b78ada.svg\";","import headerLogo from \"../images/header_logo.svg\";\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nfunction Header({ handleLogout, email, isMenuOpen }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"логотип место\" />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"header__info\">\r\n            <span className=\"header__email\">{email}</span>\r\n            <Link\r\n              to=\"/sign-in\"\r\n              onClick={handleLogout}\r\n              className=\"button header__link\"\r\n            >\r\n              Выйти\r\n            </Link>\r\n          </div>\r\n          <button\r\n            className={\r\n              isMenuOpen\r\n                ? \"header__menu header__menu_type_opened\"\r\n                : \"header__menu header__menu_type_closed\"\r\n            }\r\n          >\r\n            <span />\r\n          </button>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"button header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"button header__link\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}){\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      }\r\n\r\n    function handleLikeClick(){\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick(){\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return(\r\n        <div className=\"element\">\r\n            <button className=\"button element__delete-button\" onClick={handleDeleteClick} style={isOwn ? {display: \"block\"} : {display: \"none\"}} aria-label=\"Удалить\" type=\"button\"></button>\r\n            <img className=\"element__image\" onClick={handleClick} src={card.link} alt={card.name}/>\r\n            <div className=\"element__info\">\r\n                <h3 className=\"element__title\">{card.name}</h3>\r\n                <div className=\"element__like\">\r\n                    <button className={isLiked ? \"button element__like-button element__like-button_active\" : \"button element__like-button\"} onClick={handleLikeClick} type=\"button\" aria-label=\"кнопка лайк\"></button>\r\n                    <span className=\"element__like-counter\">{card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({handleEditAvatarClick, handleEditProfileClick, handleAddPlaceClick, handleCardClick, cards, onCardLike, onCardDelete}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n  return(\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={handleEditAvatarClick}></div>\r\n            <div className=\"profile__bio\">\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__caption\">{currentUser.about}</p>\r\n                </div>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"кнопка редактирования профиля\" onClick={handleEditProfileClick}></button>\r\n            </div>\r\n            <button className=\"profile__add-button\" type=\"button\" aria-label=\"кнопка добавления контента\" onClick={handleAddPlaceClick}></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n             {cards.map((card) => { return (<Card key={card._id} card={card} onCardClick={handleCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)})}\r\n        </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","function Footer(){\r\n    return(\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","function ImagePopup({card, onClose}){\r\n    return(\r\n        <section className={card.link ? \"popup popup_type_photo popup_opened\" : \"popup popup_type_photo\"} id=\"popup-photo\"> \r\n        <div className=\"popup__container popup__container_type_photo\">\r\n            <button className=\"popup__exit-button\" onClick={onClose} type=\"button\" aria-label=\"закрыть попап\"></button>\r\n            <img className=\"popup__photo\" src={card.link} alt={card.name}/>\r\n            <h2 className=\"popup__caption\">{card.name}</h2>\r\n        </div> \r\n    </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import { useState } from \"react\";\r\n\r\nexport const Login=({ handleLogin }) =>{\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    const { email, password } = data;\r\n    handleLogin(data);\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form onSubmit={handleSubmit} className=\"auth__form\">\r\n        <input\r\n          onChange={handleChange}\r\n          className=\"auth__input\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={data.email}\r\n          required\r\n        />\r\n        <input\r\n          onChange={handleChange}\r\n          className=\"auth__input\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          value={data.password}\r\n          required\r\n        />\r\n        <button className=\"auth__button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const Register = ({ handleRegister, isDataSet }) => {\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    const { email, password } = data;\r\n    handleRegister({email, password});\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   if (isDataSet) {\r\n  //     setData({ email: \"\", password: \"\" });\r\n  //   }\r\n  // }, [isDataSet]);\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form onSubmit={handleSubmit} className=\"auth__form\">\r\n        <input\r\n          onChange={handleChange}\r\n          className=\"auth__input\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          value={data.email}\r\n          required\r\n        />\r\n        <input\r\n          onChange={handleChange}\r\n          className=\"auth__input\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          value={data.password}\r\n          required\r\n        />\r\n        <button className=\"auth__button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link to=\"/sign-in\" className=\"auth__link\">\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"./sign-in\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n"," class Api {\n    constructor(options){\n        this._url = options.url;\n        this._headers = options.headers;\n    }\n\n    _getResponse(res){\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n// загружаем карточки с сервера\n\n    getCards(){\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n        .then(this._getResponse)\n    }\n\n// загружаем данные о пользователе с сервера\n\n    getUserInfo(){\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n        .then(this._getResponse)\n    }\n\n// отправка данных профиля на сервер\n\n    setUserInfo(data){\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.description\n              })\n        })\n        .then(this._getResponse)\n    }\n\n// обновление аватара\n\n    setUserAvatar(data){\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(data)\n        })\n        .then(this._getResponse)\n    }\n    \n// добавляем новую карточку на сервер\n\n    postCard(data){\n        console.log(data)\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.title,\n                link: data.link\n              })\n        })\n        .then(this._getResponse)\n    }\n\n// ставим лайк на карточку\n\n    setLike(data){\n        return fetch(`${this._url}/cards/likes/${data}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(this._getResponse)\n    }\n\n// удаляем лайк с карточки\n\n    deleteLike(data){\n        return fetch(`${this._url}/cards/likes/${data}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._getResponse)\n    }\n\n// удаление карточки\n\n    deleteCard(data){\n        return fetch(`${this._url}/cards/${data}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._getResponse)\n    }\n\n// данные для отрисовки страницы\n\n    getAllInfo(){\n        return Promise.all([this.getCards(), this.getUserInfo()])\n    }\n// проверяем наличие лайка\n\n    changeLikeCardStatus(data, isLiked) {\n        console.log(data);\n        return fetch(`${this._url}/cards/likes/${data}`, {\n          method: `${isLiked ? 'DELETE' : 'PUT'}`,\n          headers: this._headers,\n        })\n          .then(this._getResponse);\n      }\n}\n\nexport const api = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-27',\n    headers:{\n      authorization: '6b82b3a4-6e0d-4189-9884-5cc4086ad63c',\n      'Content-Type': 'application/json'\n    }\n  })","function PopupWithForm({\r\n  title,\r\n  name,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  buttonText,\r\n  onSubmit,\r\n}) {\r\n  return (\r\n    <section className={isOpen ? \"popup popup_opened\" : \"popup\"} id={name}>\r\n      <div className=\"popup__container popup__container_type_input\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          onSubmit={onSubmit}\r\n          action=\"#\"\r\n          name={name}\r\n        >\r\n          {children}\r\n          <button\r\n            className=\"button popup__save-button\"\r\n            type=\"submit\"\r\n            aria-label={buttonText}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__exit-button\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useEffect} from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}){\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n      function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          description: description,\r\n        });\r\n      }\r\n\r\n      useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n          title={\"Редактировать профиль\"}\r\n          name={\"popup-edit\"}\r\n          isOpen={isOpen}\r\n          onClose={onClose}\r\n          buttonText={\"Сохранить\"}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <input\r\n          value={name} onChange={handleChangeName}\r\n            className=\"popup__input popup__input_type_name\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            required\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-error\">\r\n            Ошибка\r\n          </span>\r\n          <input\r\n          value={description} onChange={handleChangeDescription}\r\n            className=\"popup__input popup__input_type_job\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            placeholder=\"О себе\"\r\n            name=\"description\"\r\n            id=\"description\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"description-error\">\r\n            Ошибка\r\n          </span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}){\r\n    const avatarRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      } \r\n\r\n      return (\r\n        <PopupWithForm\r\n        title={\"Обновить аватар\"}\r\n        name={\"avatar-update\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        buttonText={\"Сохранить\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n        ref={avatarRef}\r\n          className=\"popup__input popup__input_type_avatar\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"avatar\"\r\n          id=\"avatar\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatar-error\">\r\n          Ошибка\r\n        </span>\r\n      </PopupWithForm>\r\n      )\r\n\r\n}\r\n\r\nexport default EditAvatarPopup","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\r\n  const nameRef = React.useRef();\r\n  const linkRef = React.useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      title: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  };\r\n      return(\r\n        <PopupWithForm\r\n        title={\"Новое место\"}\r\n        name={\"popup-add\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        buttonText={\"Сохранить\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"popup__input popup__input_type_name\"\r\n          type=\"text\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          required\r\n          placeholder=\"Название\"\r\n          name=\"title\"\r\n          id=\"title\"\r\n          ref={nameRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"title-error\">\r\n          Ошибка\r\n        </span>\r\n        <input\r\n          className=\"popup__input popup__input_type_job\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"link\"\r\n          id=\"link\"\r\n          ref={linkRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"link-error\">\r\n          Ошибка\r\n        </span>\r\n      </PopupWithForm>\r\n      )\r\n\r\n}\r\n\r\nexport default AddPlacePopup","const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst response = (res) =>\r\n  res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({email, password}),\r\n  }).then(response);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({email, password}),\r\n  }).then(response);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(response);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import success from \"../images/success.svg\";\r\nimport error from \"../images/error.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  const messageIcon = props.authStatus ? success : error;\r\n  const messageText = props.authStatus\r\n    ? \"Вы успешно зарегистрировались!\"\r\n    : \"Что-то пошло не так! Попробуйте еще раз.\";\r\n\r\n  return (\r\n    <section className={props.isOpen ? \"popup popup_opened\" : \"popup\"}>\r\n      <div className=\"popup__container popup__container_type_input popup__container_type_signature\">\r\n      <button\r\n          onClick={props.onClose}\r\n          className=\"button popup__exit-button\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n        ></button>\r\n        <img src={messageIcon} alt=\"иконка\" className=\"popup__icon\" />\r\n        <h2 className=\"popup__signature\">{messageText}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { Login } from \"./Login\";\nimport { Register } from \"./Register\";\nimport { ProtectedRoute } from \"./ProtectedRoute\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport * as auth from \"../utils/auth\";\nimport InfoToolTip from \"./InfoTooltip\";\n\nfunction App() {\n  // card\n\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getAllInfo()\n      .then((res) => {\n        const [cards, userInfo] = res;\n        setCards(cards);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // like\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // delete\n\n  const handleCardDelete = (card) => {\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // popup\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [tooltipStatus, setTooltipStatus] = useState(\"\");\n\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ title: \"\", link: \"\" });\n    setIsInfoToolTipOpen(false);\n  };\n\n  // selected\n\n  const [selectedCard, setSelectedCard] = useState({ title: \"\", link: \"\" });\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  // editprofile\n\n  const handleUpdateUser = (data) => {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // editavatar\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  //newplace\n\n  const handleAddPlaceSubmit = (data) => {\n    api\n      .postCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // userinfj\n\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    id_: \"\",\n  });\n\n  // token\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const tokenCheck = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserData({ email: res.data.email });\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  // sign\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isDataSet, setIsDataSet] = useState(false);\n  const [userData, setUserData] = useState({\n    email: \"\",\n  });\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, loggedIn]);\n\n  const handleLogin = ({ email, password }) => {\n    auth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"token\", res.token);\n          setUserData({ email: email });\n          setLoggedIn(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleRegister = ({ email, password }) => {\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res.data._id) {\n          setIsDataSet(true);\n          history.push(\"/sign-in\");\n          setTooltipStatus(\"success\");\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n        setIsDataSet(false);\n        setTooltipStatus(\"\");\n        setIsInfoToolTipOpen(true);\n      })\n      .finally(() => {\n        setIsDataSet(false);\n        setIsInfoToolTipOpen(true);\n      });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUserData({ email: \"\" });\n    setLoggedIn(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <Header\n          loggedIn={loggedIn}\n          handleLogout={handleLogout}\n          email={userData.email}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            handleEditProfileClick={onEditProfile}\n            handleAddPlaceClick={onAddPlace}\n            handleEditAvatarClick={onEditAvatar}\n            handleCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} isDataSet={isDataSet} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isDataSet={isDataSet}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isDataSet={isDataSet}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          authStatus={tooltipStatus}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { BrowserRouter } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}